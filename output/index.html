<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="../../assets/ico/favicon.png">
    <title>
      Themes for Nikola (version 6)
    </title>
    <link href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="jPages.css" rel="stylesheet">
  </head>

  <body style="margin-top: 90px">
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Nikola Version 6 Themes</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li>
              <a href="http://github.com/ralsina/nikola-themes">Github</a>
            </li>
            <li>
              <a href="http://getnikola.com">Nikola</a>
            </li>
          </ul>
        </div>
        <!--/.nav-collapse -->
      </div>
    </div>
    <div class="container">
      <div class="starter-template">
      </div>
      <div class="row">
        <div class="col-md-4">
          <div class="holder"></div>
          <div class="list-group" id="itemContainer">
          </div>
        </div>
        <div class="col-md-8" id="rightside">
          <img src="https://s3.amazonaws.com/jetstrap-site/images/website/index/what_icon.png">
          <p>
            Content
          </p>
        </div>
      </div>
    </div>
    <!-- /.container -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="jPages.min.js"></script>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <script src="v6/theme_data.js"></script>
    <script src="showdown.js"></script>
    <script type="text/javascript">
      $(function(){
//      Add themes to the list
        th_list = $("#itemContainer");
        for (theme in data) {
            var anchor = $('<a/>')
                .addClass('list-group-item')
                .attr('id', 'li-'+ theme)
                .attr('href', '#'+theme)
                .text(theme)
                .appendTo(th_list)
        };
//      Paginate
        $("div.holder").jPages({ containerID : "itemContainer", perPage: 10 });
        hash_handler();
      });
    var converter = new Showdown.converter();
    function hash_handler() {
        if (location.hash) {
            theme = location.hash.slice(1);
        }
        else {
            theme = 'bootstrap';
        }
//      Show theme data
        container = $('#rightside');
        container.html('');
        var title = $('<h3/>').text(theme).appendTo(container);
        var small = $('<small/>').appendTo(title)
        $('<div/>').addClass('alert').html('To install, use <span class="label label-info">nikola install_theme '+theme+'</span>').appendTo(container)
        if (data[theme]['bootswatch']) {
            $('<span/>').html('&nbsp;|&nbsp;Supports <a href="http://bootswatch.com">Bootswatch</a>').appendTo(small)
        }
        $('<span/>').html('&nbsp;|&nbsp;<a href="v6/'+theme+'/index.html">Demo</a>').appendTo(small)
        $('<div/>').html(converter.makeHtml(data[theme]['readme'])).appendTo(container)
        thumb = $('<div/>').appendTo(container)
        $('<img/>').attr('src', 'v6/'+theme+'.jpg').attr('style', 'width:500px;')
            .addClass('thumbnail').appendTo(thumb)
//      Mark theme as active and paginate to it
        var listItems = $("#itemContainer a");
        listItems.each(function(idx, item) {
            console.log(item.id , 'li-'+theme)
            if (item.id == 'li-'+theme) {
                $('#li-'+theme).addClass('active');
                var page = parseInt(idx/10)+1;
                $("div.holder").jPages(page);
            } else {
                $('#'+item.id).removeClass('active');
            }
        });
    };
    $(window).on('hashchange', hash_handler);
    </script>
  </body>
</html>
