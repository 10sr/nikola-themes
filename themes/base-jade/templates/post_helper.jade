mixin html_title(title)
    h1(class="p-name",itemprop="headline name")
      = title
    if link
      p
        a(href=link)
          i= messages("Original site")

mixin html_translations(post)
    if translations|length > 1
        for langname in translation.keys()
            if langname != lang and post.is_translation_available(langname)
                &nbsp;&nbsp;|&nbsp;&nbsp;
                a(href=post.permalink(langname), rel="alternate", hreflang=langname)
                    = messages("Read in English", langname)

mixin html_list_tags(post)
    span(itemprop="keywords")
    for tag in post.tags
        &nbsp;
        a(class="tag p-category", href=_link('tag', tag))
            span(class="badge badge-info")
                = tag

mixin html_tags(post)
    if post.tags
        &nbsp;&nbsp;|&nbsp;&nbsp;
        != formatmsg(messages("More posts about %s"), html_list_tags(post))

mixin html_pager(post)
    if post.prev_post or post.next_post
        ul(class="pager")
          if post.prev_post
            li(class="previous")
              a(href=post.prev_post.permalink(), rel="prev")
                  &larr;
                  = messages("Previous post")
          if post.next_post:
            li(class="next")
                a(href=post.next_post.permalink(), rel="next")
                = messages("Next post")
                &rarr

mixin mathjax_script(post)
    if post.is_mathjax
        script(type="text/x-mathjax-config") MathJax.Hub.Config({ tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]} });
        script(src="/assets/js/mathjax.js")

mixin twitter_card_information(post)
    if twitter_card and twitter_card['use_twitter_cards']
        meta(name="twitter:card", content=twitter_card.get('card', 'summary'))
        meta(name="og:url", content=post.permalink(absolute=True))
        if 'site:id' in twitter_card
            meta(name="twitter:site:id", content=twitter_card['site:id'])
        elif 'site' in twitter_card
            meta(name="twitter:site", content=twitter_card['site'])
        if 'creator:id' in twitter_card
            meta(name="twitter:creator:id", content=twitter_card['creator:id'])
        elif 'creator' in twitter_card
            meta(name="twitter:creator", content=twitter_card['creator'])
        meta(name="og:title", content=post.title()[:70])
        if post.description()
            meta(name="og:description", content=post.description()[:200])
        else
            meta(name="og:description", content=post.text(strip_html=True)[:200])
